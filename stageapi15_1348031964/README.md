# BOIStageAPI15
Custom StageAPI 1.5 for the Binding of Isaac Repentance, allows overlaying custom stages on top of existing floors.
Currently supports Catacombs, Necropolis, and Utero.

DOCUMENTATION IN [doc.md](doc.md)

#### If you're using the workshop version:
Before following the steps below, double-click `setup.bat` in the `basementrenovator` folder

## Generating Lua Rooms
  - Drag an xml file generated by the official room editor or Basement Renovator onto `basementrenovator/convertxml.bat`
    - Or, drag an stb file generated by the official room editor or Basement Renovator onto `basementrenovator/convertstb.bat`
  - Next to the original file will be a matching lua file
  - You can use the provided python script to restore an xml copy of the lua file if the original file is lost

## Integration with Basement Renovator
  - In Basement Renovator, add `basementrenovator/convertxml.bat` to your save hook list
    - When you save, lua rooms will automatically be generated alongside the file
    - If using an older BR version missing File > Export to STB, add `basementrenovator/convertstb.bat` instead
  - Add `basementrenovator/testhook.bat` to your test hook list
    - When you test a room, StageAPI will automatically kick in to set up custom grid and meta entities
    - If you've configured your mod with a `basementrenovator/StageMod.xml` (see Basement Renovator readme) and your rooms are
    configured to load the stage, it will launch the rooms in that stage
  - If when starting a run you see an error about loading BR compatibility, please follow these steps again, or delete the basementrenovator/roomTest.lua file and replace it with a copy of the adjacent blankRoomTest.lua
